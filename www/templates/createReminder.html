<ion-view>
    
     <!-- <ion-nav-bar class="bar">
         	<ion-nav-back-button class="button-icon fa fa-angle-left"></ion-nav-back-button>
           	 <h1 class="title"></h1>
             <ion-nav-buttons side="primary">
				<button class="button nav" menu-toggle="right"><i class="ion-navicon"></i></button>
             </ion-nav-buttons>
             <ion-nav-buttons side="left">
				<button class="button nav notifications" menu-toggle="left"><i class="ion-android-notifications-none"></i><b>2</b></button>
            </ion-nav-buttons>
	</ion-nav-bar> -->
    
    <ion-content padding="true" class="reminder">
		<h1>CREATE A NEW CHARGE</h1>        
            <div class="list-inset">
            	<!--  <div class="name">
                    <label class="item item-input item-select">
                        <select>
                            <option selected>Mr.</option>
                            <option>Ms.</option>
                            <option>Other</option>
                        </select>
                    </label>
                    
                </div>-->
                <label class="item item-input">
                        <input type="text" ng-model="model.name" ng-change="changeField()" placeholder="Name" autofocus>
                    </label>
                <label class="item item-input">
                        <input type="text" ng-model="model.lastname" ng-change="changeField()" placeholder="Last name" >
                    </label>
                    
                <label class="item item-input">
                    <input type="text" ng-model="model.company" ng-change="changeField()" placeholder="Company">
                </label>
                <label class="item item-input">
                    <input type="email" ng-model="model.email" ng-change="changeField()" placeholder="E-mail">
                </label>
                <label class="item item-input">
                    <input type="text" ng-model="model.description" ng-change="changeField()" placeholder="Why this charge?">
                </label>
                <label class="item item-input amount">
                    <input type="number" ng-model="model.cost" ng-change="changeField()" placeholder="$$$" min="1">
                </label>
            </div>
              <section class="txt">
               <!--  <div class="tabs">
                   <a class="tab-item {{activeTemplate1}}" ng-click="setTemplate(1)">Next day biling</a>
                   <a class="tab-item {{activeTemplate2}}" ng-click="setTemplate(2)">Debiting</a>
                   <a class="tab-item {{activeTemplate3}}" ng-click="setTemplate(3)">Own message</a>
            	</div>-->
            	<span class="preview">Preview of remainder</span>
                <article>
            	<h4><strong>{{model.name}} {{model.lastname}}</strong></h4>
            	<p>This is a reminder that you debt <br><strong>$ {{model.cost}}<sup>00</sup> USD</strong> to <strong>{{model.userInfo.name}} {{model.userInfo.lastname}}</strong>.</p>
                <p>The reason is <strong>{{model.description}}</strong></p>
                <p class="legend">This is an automatic remainder by the app PAYME</p>
                </article>
            </section> 
            
            <section class="datetime">
            	<span class="preview">Choose a date to send the remainder</span>
	            <div class="list-inset">
                    <div ng-repeat="reminder in model.reminders"> 
                    	<div ng-show="reminder.action!='delete'">
                    	<span  ng-show="!reminder.disableDay" ng-click="btnRemoveDate(reminder)" ng-disabled="reminder.disableDay">Delete</span>
                    	<label class="item item-input">
                        	<!-- <input type="datetime-local" ng-model="reminder" ng-change="changeField()"  min="{{model.dateMin | date:'yyyy-MM-ddTHH:mm'}}" ng-disabled="reminder.invalidDate"> -->
                        	<input type="datetime-local" ng-model="reminder.day" ng-change="changeField()"  min="{{reminder.minDay | date:'yyyy-MM-ddTHH:mm'}}" ng-disabled="reminder.disableDay" >
                    	</label>
                    	</div>
                    </div>
                    <a href="#" class="button button-block button-outline button-small" ng-click="btnAddDate()" ng-disabled="!model.maxReminders >0 ">Add more dates</a>
                </div>
		         <button class="button button-block button-outline button-small now" ng-click="createOrSendReminder(true)" ng-disabled="model.btnSendNowDisabled">Send remainder now</button>
            </section>
            
    </ion-content>
    
    
    <ion-footer-bar class="unique_button">
       <button ng-show="model.paramMode == 1" class="button button-block button-outline button-light" ng-click="createOrSendReminder(false)" ng-disabled="model.btnCreateDisabled">Create</button>
       <button ng-show="model.paramMode == 2" class="button button-block button-outline button-light" ng-click="createOrSendReminder(false)" ng-disabled="model.btnUpdateDisable">Update</button>
        <!--  <a href="#/clientsProjects" class="button button-block button-outline button-light button-small">Create</a>-->
	</ion-footer-bar>
  
</ion-view>
